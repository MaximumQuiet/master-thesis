\documentclass[russian,14pt,simple, hpadding=10mm]{eskdtext}

%%% Simple - убрать лишние рамки слева

\usepackage{fontspec}
\usepackage{xltxtra} % Верхние и нижние индексы
\usepackage{xunicode} % Unicode для XeTeX
\usepackage{xecyr} % Для работы eskdx

% Шрифты, xelatex
\defaultfontfeatures{Ligatures=TeX}
\setmainfont{Times New Roman}
  \newfontfamily{\cyrillicfont}{Times New Roman}
\setmonofont{Courier New}
  \newfontfamily{\cyrillicfonttt}{Courier New}

\usepackage{polyglossia}
\setdefaultlanguage{russian}

% Абзацы и списки
\usepackage{indentfirst}
\usepackage{float}
\usepackage{enumerate} 

\usepackage{enumitem}
\setlist[enumerate,itemize]{nolistsep, itemsep=0cm, parsep=0pt, itemindent=0.65em,leftmargin=3.6em}

\usepackage{listings}

%%% Мат. формулы
\usepackage{mathtext}

% Вставка изображений
\usepackage{graphicx}
\usepackage{xcolor}
\graphicspath{{images/}}

% Гиперссылки
\usepackage{hyperref}
\usepackage{url}

% Таблицы
\usepackage{tabularx}
\usepackage{longtable}

\usepackage{listings} % Оформление исходного кода
%\lstset{
%    language=Python,
%    basicstyle=\ttfamily\footnotesize, % Размер и тип шрифта
%    showstringspaces=true, 
%    keepspaces=true,
%    columns=fullflexible,
%    breaklines=true,            % Перенос строк
%    tabsize=2,                  % Размер табуляции
%    frame=single,               % Рамка
 %   literate={--}{{-{}-}}2,     % Корректно отображать двойной дефис
 %   literate={---}{{-{}-{}-}}3  % Корректно отображать тройной дефис
 

\lstset{
language=R,
basicstyle=\scriptsize\ttfamily,
commentstyle=\ttfamily\color{gray},
numbers=left,
numberstyle=\ttfamily\color{gray}\footnotesize,
stepnumber=1,
numbersep=5pt,
backgroundcolor=\color{white},
showspaces=false,
showstringspaces=false,
showtabs=false,
frame=single,
tabsize=2,
captionpos=b,
breaklines=true,
breakatwhitespace=false,
title=\lstname,
escapeinside={},
keywordstyle={},
morekeywords={}
}


% Для работы eskdx
\def\No{\textnumero}

% Правильный формат подрисуночных надписей
\addto\captionsrussian{\renewcommand{\figurename}{Рисунок}}

%%% Переносы
\exhyphenpenalty=10000
\doublehyphendemerits=10000
\finalhyphendemerits=5000
\hyphenpenalty=1000

\sloppy

%%% Абзацный отступ 
\parindent=12.5mm

%%% Интервал 
\linespread{1}

\makeatletter
\renewcommand*\l@section{\@dottedtocline{1}{1em}{1em}}
\def\redeflsection{\def\l@section{\@dottedtocline{1}{0em}{10em}}}
\makeatother

%%% Раздел без цифр
\newcommand{\anonsection}[1]{
  \ESKDsectAlign{section}{Center}
  \section*{{{#1}}}
  \ESKDsectAlign{section}{Left}
  \addcontentsline{toc}{section}{#1}
}


\newenvironment{itemize*}
  {\begin{itemize}
    \addtolength{\itemindent}{-0.65em}}
  {\end{itemize}}

\newcommand{\addimg}[3]{
  \begin{figure}
    \begin{center}
      \includegraphics[scale=#2]{#1}
    \end{center}
    \caption{#3}
  \end{figure}
}

\newcommand{\addimghere}[3]{
  \begin{figure}[H]
    \setlength\abovecaptionskip{10pt}
    \setlength\belowcaptionskip{0pt}
    \centerline{
      \includegraphics[scale=#2]{#1}}
    \caption{#3}
  \end{figure}
}

\newcommand{\addtwoimghere}[4] {
  \begin{figure}[H]
    \begin{center}
      \includegraphics[scale=#3]{#1}
      \hfill
      \includegraphics[scale=#3]{#2}
    \end{center}
    \caption{#4}
  \end{figure}
}

\newcommand{\uscript}[1]{$_{\text{#1}}$}
